<?xml version="1.0" encoding="UTF-8"?><tululoo version="130" uid="91" title="" advancedscriptmode="0" imgfolder="img" audfolder="aud"><functions>//document.addEventListener('deviceready', onDeviceReady);

function onDeviceReady() {
  store.when('com.kaname.store.item_002')
    .updated(refreshUI)
    .approved(finishPurchase);
  store.register({type: store.CONSUMABLE, id: 'com.kaname.store.item_002'});
  store.refresh();
}

function finishPurchase(p) {
  localStorage.goldCoins = (localStorage.goldCoins | 0) + 10;
  p.finish();
}

function refreshUI() {
  const product = store.get('com.kaname.store.item_002');
  const button = `&lt;button onclick="store.order('com.kaname.store.item_002')"&gt;Purchase&lt;/button&gt;`;

  document.getElementsByTagName('body')[0].innerHTML = `
  &lt;div&gt;
  &lt;pre&gt;
  Gold: ${localStorage.goldCoins | 0}

  Product.state: ${product.state}
  .title: ${product.title}
  .descr: ${product.description}
  .price: ${product.price}

  &lt;/pre&gt;
  ${product.canPurchase ? button : ''}
  &lt;/div&gt;`;
}
</functions><variables>jump_step = 0;</variables><comments/><sprites count="7"><sprite name="spr_player" centerx="10" centery="10" collisionshape="Circle" collisionradius="10" collisionleft="0" collisionright="20" collisiontop="0" collisionbottom="20"/><sprite name="sprite_5" centerx="10" centery="10" collisionshape="Box" collisionradius="10" collisionleft="0" collisionright="20" collisiontop="0" collisionbottom="20"/><sprite name="sprite_54" centerx="10" centery="10" collisionshape="Box" collisionradius="10" collisionleft="0" collisionright="20" collisiontop="0" collisionbottom="20"/><sprite name="btn_s_01" centerx="20" centery="20" collisionshape="Box" collisionradius="20" collisionleft="0" collisionright="40" collisiontop="0" collisionbottom="40"/><sprite name="btn_s_02" centerx="20" centery="20" collisionshape="Box" collisionradius="20" collisionleft="0" collisionright="40" collisiontop="0" collisionbottom="40"/><sprite name="btn_s_03" centerx="20" centery="20" collisionshape="Box" collisionradius="20" collisionleft="0" collisionright="40" collisiontop="0" collisionbottom="40"/><sprite name="btn_s_04" centerx="20" centery="20" collisionshape="Box" collisionradius="20" collisionleft="0" collisionright="40" collisiontop="0" collisionbottom="40"/></sprites><frames count="7"><frame file="0" sprite="spr_player"/><frame file="0" sprite="sprite_5"/><frame file="0" sprite="sprite_54"/><frame file="0" sprite="btn_s_01"/><frame file="0" sprite="btn_s_02"/><frame file="0" sprite="btn_s_03"/><frame file="0" sprite="btn_s_04"/></frames><sounds count="0"/><musics count="0"/><backgrounds count="0"/><fonts count="1"><font name="font_90" family="Arial" size="14" bold="1" italic="0"/></fonts><objects count="71"><object name="obj_player" template="" prototype="1" scene="" sprite="spr_player" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="SceneObject1" template="obj_player" prototype="0" scene="test_level" sprite="spr_player" x="160" y="140" visible="0" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="object_box_01" template="" prototype="1" scene="" sprite="sprite_5" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="SceneObject7" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="10" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject8" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="10" y="30" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject9" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="10" y="50" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject10" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="30" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject11" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="50" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject12" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="10" y="70" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject13" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="10" y="90" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject14" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="70" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject15" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="90" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject16" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="310" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject17" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="310" y="290" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject18" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="290" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject19" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="10" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject20" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="310" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject21" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="290" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject22" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="310" y="30" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject23" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="10" y="290" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject24" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="30" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject25" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="10" y="270" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject26" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="50" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject27" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="10" y="250" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject28" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="70" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject29" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="10" y="230" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject30" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="90" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject31" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="270" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject32" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="310" y="270" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject33" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="290" y="290" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject34" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="310" y="250" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject35" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="310" y="230" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject36" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="310" y="210" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject37" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="310" y="50" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject38" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="270" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject39" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="250" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject40" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="230" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject41" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="210" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject42" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="190" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject43" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="170" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject44" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="110" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject45" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="30" y="30" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject46" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="10" y="110" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject47" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="10" y="210" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject48" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="10" y="130" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject49" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="130" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject50" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="150" y="10" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject51" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="310" y="70" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="object_box_02" template="" prototype="1" scene="" sprite="sprite_54" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="SceneObject58" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="10" y="150" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject59" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="10" y="190" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject60" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="310" y="90" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject61" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="110" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject62" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="250" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject63" template="object_box_01" prototype="0" scene="test_level" sprite="sprite_5" x="230" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject64" template="object_box_02" prototype="0" scene="test_level" sprite="sprite_54" x="30" y="290" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject65" template="object_box_02" prototype="0" scene="test_level" sprite="sprite_54" x="30" y="140" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject66" template="object_box_02" prototype="0" scene="test_level" sprite="sprite_54" x="160" y="30" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject67" template="object_box_02" prototype="0" scene="test_level" sprite="sprite_54" x="310" y="150" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject68" template="object_box_02" prototype="0" scene="test_level" sprite="sprite_54" x="310" y="130" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject69" template="object_box_02" prototype="0" scene="test_level" sprite="sprite_54" x="310" y="110" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject70" template="object_box_02" prototype="0" scene="test_level" sprite="sprite_54" x="310" y="170" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject71" template="object_box_02" prototype="0" scene="test_level" sprite="sprite_54" x="310" y="190" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject72" template="object_box_02" prototype="0" scene="test_level" sprite="sprite_54" x="210" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject73" template="object_box_02" prototype="0" scene="test_level" sprite="sprite_54" x="130" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject74" template="object_box_02" prototype="0" scene="test_level" sprite="sprite_54" x="150" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject75" template="object_box_02" prototype="0" scene="test_level" sprite="sprite_54" x="170" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject76" template="object_box_02" prototype="0" scene="test_level" sprite="sprite_54" x="190" y="310" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject77" template="object_box_02" prototype="0" scene="test_level" sprite="sprite_54" x="10" y="170" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="object_88" template="" prototype="1" scene="" sprite="" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="SceneObject91" template="object_88" prototype="0" scene="test_level" sprite="" x="160" y="340" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/></objects><scripts count="8"><script name="SCRIPT 0" object="obj_player" event="Step" parameter="">
// WHEN THE RIGHT ARROW IS PUSHED
// MOVES THE PLAYER TO THE RIGHT
if ( keyboard_check( vk_right )) {
	x = x + 5;
}

// WHEN THE LEFT ARROW IS PUSHED
// MOVES THE PLAYER TO THE LEFT
if ( keyboard_check( vk_left )) {
	x = x - 5;
}

// WHEN THE UP ARROW IS PUSHED
// MOVES THE PLAYER TO UP
if ( keyboard_check( vk_up )) {
	y = y - 5;
}

// WHEN THE DOWN ARROW IS PUSHED
// MOVES THE PLAYER TO DOWN
if ( keyboard_check( vk_down )) {
	y = y + 5;
}</script><script name="scr_52" object="obj_player" event="Collision" parameter="object_box_01">x = xprevious;
y = yprevious;</script><script name="scr_53" object="obj_player" event="Collision" parameter="object_box_02">onDeviceReady();
</script><script name="scr_78" object="object_box_02" event="Collision" parameter="obj_player">instance_destroy();</script><script name="scr_79" object="obj_player" event="Creation" parameter="">this.air = 0;
this.jump = 0;
this.cooldown = 20;
this.cooldown_ = 20;
this.a_move = touch_create(room_viewport_x +50, room_viewport_y +50, room_viewport_x +60,room_viewport_y +380);
this.b_move = touch_create(room_viewport_x +50, room_viewport_y +50, room_viewport_x +120, room_viewport_y +380);
this.c_move = touch_create(room_viewport_x +50, room_viewport_y +50, room_viewport_x +180, room_viewport_y +380); //sita
this.d_move = touch_create(room_viewport_x +50, room_viewport_y +50,  room_viewport_x +240,  room_viewport_y +380); //sita

this.a_shoot = touch_create(50, 50, -130, -130);

window.scrollTo(1, 1);

touch_update(a_move, b_move, c_move, d_move, a_shoot);
cooldown = max(0, cooldown - 1);
jump_step = max(0, jump_step - 1);
</script><script name="scr_80" object="obj_player" event="Step" parameter="">touch_update(a_move, b_move, c_move, d_move, a_shoot);
cooldown = max(0, cooldown - 1);
jump_step = max(0, jump_step - 1);

if (touch_check(a_move)) {
	x -= 5;//yoko
}

if (touch_check(b_move)) {
	x += 5;//yoko
}

if (jump_step == 0 &amp;&amp;touch_check(c_move)) {
	//if(jump_step == 0){
	jump = 6;
	air = 10;
	//sound_play(snd_jump);
	//jump_step += 1;
	//}
	if(jump_step == 0){
	jump_step += 50;
	}
}</script><script name="scr_81" object="obj_player" event="Draw" parameter="">draw_self();
	//draw_sprite(attack_0,attack_0,room_viewport_x + 400,room_viewport_y + 380);
	draw_sprite(btn_s_01,btn_s_01,room_viewport_x + 60,room_viewport_y + 380);
	draw_sprite(btn_s_02,btn_s_02,room_viewport_x + 120,room_viewport_y + 380);
	draw_sprite(btn_s_04,btn_s_04,room_viewport_x + 180,room_viewport_y + 380);
	draw_sprite(btn_s_03,btn_s_03,room_viewport_x + 240,room_viewport_y + 380);</script><script name="scr_89" object="object_88" event="Draw" parameter="">draw_set_font(font_90);
draw_text( 10, 40, "赤のブロックに当てると、内課金の画面に・・・");</script></scripts><scenes count="1"><scene name="test_level" width="320" height="480" speed="60" red="46" green="90" blue="65" background="" backgroundstretch="0" backgroundtilex="0" backgroundtiley="0" viewportwidth="320" viewportheight="480" viewportxborder="50" viewportyborder="0" viewportobject="obj_player"/></scenes><layers count="0"/><tiles count="0"/><fns count="0"/></tululoo>